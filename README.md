# Q-Bootstrap

This repository contains the necessary images for a raspbian to be bootstrapped with customized software on it.
The idea is to build a very simple buildroot but it should work with any image (raspbian in our particular case)

Key features are:
* Specifically targeted at Raspbian
* Extremely fast
* Reproducible builds
* Very easy learning curve
* Basic but flexible
* Full build performed every time
* No dependencies (or, at least, you should be able to `apt install` everything from an Ubuntu or debian)

## Project overview

The project is structured into various directories:
* tools: Q-Bootstrap files and tools. All scripts you run will be here.
* skel: A skeleton directory structure, which you can copy and modify for your own customizations

## Skeleton Directory structure

Take a look at the `skel` directory. You can `cp -r skel your_test` to create your own customized image. Everything needed to build an image is in the skel directory.

Structure:
* `config.env`: The most important file: This controls all aspects of your build
* `img`: the images to build are stored in this directory. You can either download and extract them yourself or specify a configuration file
* `mnt`: temporary directory to mount the images on
* `build`: output files generated by Q-Bootstrap
* `overlays`: Files in overlays/* are copied to the output image as is
* `scripts`: scripts to be run when the image is still mounted. run-parts will be used to run them in order


You will be working with a "SRC_DIR" directory where your customizations go. in your SRC_DIR, you must have:


Your skeleton can be anywhere. the `examples` folder illustrates a simple case of a Raspbian

## Environment

This build system uses environment variables for everything. A good idea is to create an environment (or config) file
These files can be stored conveniently in the `config` directory. This allows for multiple flavors and reproducible builds.


## Building an image

We are using make for our build process (thanks, buildroot).
